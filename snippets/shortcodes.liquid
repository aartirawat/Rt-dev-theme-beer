{% capture jsurl %}//{{shop.domain}}/apps/shortcodes/assets.php/js{% endcapture %}{{ jsurl | script_tag }}{% capture cssurl %}//{{shop.domain}}/apps/shortcodes/assets.php/css{% endcapture %}{{ cssurl | stylesheet_tag }}{% comment %} Box {% endcomment %}{% capture description %}{% assign parts = shortcodes | split: '[box ' %}{% for part in parts %} {% if part contains '[/box]' %}  {% assign parts2 = part | split: '[/box]' %}  {% for part2 in parts2 %}   {% assign cyclename = 'c' %}{% capture cyclename %}{{ cyclename }}1{% endcapture %}{% capture odd %}{% cycle cyclename: 'true', 'false' %}{% endcapture %}  {% if odd == 'true' and part2 contains ']' %}    {% assign button = part2 | split: ']' | first %}    {% assign button2rpl = button | append: ']' %}     <div class='sc-box' {{ button | strip_html | replace: '[box ', '' }}>{{ part2 | replace: button2rpl, '' | strip_html }}</div>   {% else %}    {{ part2 }}   {% endif %}  {% endfor %} {% else %}  {{ part }} {% endif %}{% endfor %}{% endcapture %}{% comment %} Buttons {% endcomment %}{% capture description %}{% assign parts = description | split: '[button ' %}{% for part in parts %} {% if part contains '[/button]' %}{% assign part2 = part | split: '[/button]' | first %}  {% assign button = part2 | split: ']' | first %}    {% assign button2rpl = button | append: ']' %}     <a class='sc-button' {{ button | strip_html | replace: 'data-sc-link=', 'href=' | replace: 'data-sc-target=', 'target='}}>{{ part2 | replace: button2rpl, '' | strip_html }}</a>   {{ part | replace: part2, '' | replace: '[/button]', '' }}{% else %}  {{ part }} {% endif %}{% endfor %}{% endcapture %}{% comment %} Tabs {% endcomment %}{% capture description %}{% assign parts = description | split: '[tab-section' %}{% assign part_index = 1 %}{% assign li_part_index = 1 %}{% for part in parts %} {% if part contains '[/tab-section]' %}  {% assign tabs = part | split: '[/tab-section]' | first %}  {% assign tabs2rpl = tabs | append: '[/tab-section]' %}   {% capture tabs_block_params %}{{ tabs | split: ']' | first }}{% endcapture %}   {% capture tabs_block1 %}<ul>   {% assign parts = tabs | split: '[tab ' %}   {% for part in parts %}    {% if part contains '[/tab]' %}     {% assign parts2 = part | split: '[/tab]' %}     {% for part2 in parts2 %}      {% capture cyclename %}{{ cyclename }}1{% endcapture %}{% capture odd %}{% cycle cyclename: 'true', 'false' %}{% endcapture %}     {% if odd == 'true' and part2 contains ']' %}       {% assign tab = part2 | split: ']' | first %}       {% assign tab2rpl = tab | append: ']' %}       <li><a href='#tabs-{{ li_part_index }}'>{{ tab | strip_html | replace: 'title=', '' | replace: '"', ''}}</a></li>       {% assign li_part_index = li_part_index | plus: 1 %}      {% endif %}     {% endfor %}    {% endif %}   {% endfor %}</ul>   {% endcapture %}   {% capture tabs_block %}   <div class='sc-tabs' {{ tabs_block_params }}>{{ tabs_block1 }}   {% assign parts = tabs | split: '[tab ' %}   {% for part in parts %}    {% if part contains '[/tab]' %}     {% assign parts2 = part | split: '[/tab]' %}     {% for part2 in parts2 %}      {% capture cyclename %}{{ cyclename }}1{% endcapture %}{% capture odd %}{% cycle cyclename: 'true', 'false' %}{% endcapture %}      {% if odd == 'true' and part2 contains ']' %}       {% assign tab = part2 | split: ']' | first %}       {% assign tab2rpl = tab | append: ']' %}       <div id='tabs-{{ part_index }}' {{ tab | replace: '[tab ', '' | replace: 'link=', 'href='}}>{{ part2 | replace: tab2rpl, '' }}</div>       {% assign part_index = part_index | plus: 1 %}      {% endif %}     {% endfor %}    {% endif %}   {% endfor %}</div>   {% endcapture %}  {{ part | replace: tabs2rpl, tabs_block }} {% else %}  {{ part }} {% endif %}{% endfor %}{% endcapture %}{% comment %} Notes {% endcomment %}{% capture description %}{% assign parts = description | split: '[note ' %}{% for part in parts %} {% if part contains '[/note]' %}  {% assign parts2 = part | split: '[/note]' %}  {% for part2 in parts2 %}   {% capture cyclename %}{{ cyclename }}1{% endcapture %}{% capture odd %}{% cycle cyclename: 'true', 'false' %}{% endcapture %}  {% if odd == 'true' and part2 contains ']' %}    {% assign button = part2 | split: ']' | first %}    {% assign button2rpl = button | append: ']' %}     <div class='sc-note' {{ button | strip_html | replace: '[note ', '' }}>{{ part2 | replace: button2rpl, '' }}</div>   {% else %}    {{ part2 }}   {% endif %}  {% endfor %} {% else %}  {{ part }} {% endif %}{% endfor %}{% endcapture %}{% comment %} Tooltips {% endcomment %}{% capture description %}{% assign parts = description | split: '[tooltip ' %}{% for part in parts %} {% if part contains '[/tooltip]' %}  {% assign parts2 = part | split: '[/tooltip]' %}  {% for part2 in parts2 %}   {% capture cyclename %}{{ cyclename }}1{% endcapture %}{% capture odd %}{% cycle cyclename: 'true', 'false' %}{% endcapture %}  {% if odd == 'true' and part2 contains ']' %}    {% assign button = part2 | split: ']' | first %}    {% assign button2rpl = button | append: ']' %}    <span class='sc-tooltip-main'><span class='sc-tooltip' {{ button | strip_html | replace: '[tooltip ', '' }}><span class='sc-tooltip-before'></span>{{ part2 | replace: button2rpl, '' | strip_html }}<span class='sc-tooltip-after'></span></span></span>   {% else %}    {{ part2 }}   {% endif %}  {% endfor %} {% else %}  {{ part }} {% endif %}{% endfor %}{% endcapture %}{% comment %} Line {% endcomment %}{% capture description %}{% assign parts = description | split: '[line ' %}{% for part in parts %} {% if part contains '[/line]' %}  {% assign parts2 = part | split: '[/line]' %}  {% for part2 in parts2 %}   {% capture cyclename %}{{ cyclename }}1{% endcapture %}{% capture odd %}{% cycle cyclename: 'true', 'false' %}{% endcapture %}   {% if odd == 'true' and part2 contains ']' %}    {% assign button = part2 | split: ']' | first %}    {% assign button2rpl = button | append: ']' %}    <hr class='sc-hr' {{ button | strip_html | replace: '[line ', '' }} />   {% else %}    {{ part2 }}   {% endif %}  {% endfor %} {% else %}  {{ part }} {% endif %}{% endfor %}{% endcapture %}{% comment %} Expandable {% endcomment %}{% capture description %}{% assign parts = description | split: '[expandable' %}{% assign part_index = 1 %}{% assign li_part_index = 1 %}{% for part in parts %} {% if part contains '[/expandable]' %}  {% assign tabs = part | split: '[/expandable]' | first %}  {% assign tabs2rpl = tabs | append: '[/expandable]' %}   {% capture tabs_block_params %}{{ tabs | split: ']' | first }}{% endcapture %}   {% capture tabs_block %}<div class='sc-expandable' {{ tabs_block_params }}>   {% assign parts = tabs | split: '[section ' %}   {% for part in parts %}    {% if part contains '[/section]' %}     {% assign parts2 = part | split: '[/section]' %}     {% for part2 in parts2 %}     {% capture cyclename %}{{ cyclename }}1{% endcapture %}{% capture odd %}{% cycle cyclename: 'true', 'false' %}{% endcapture %}      {% if odd == 'true' and part2 contains ']' %}       {% assign tab = part2 | split: ']' | first %}       {% assign tab2rpl = tab | append: ']' %}       <h3>{{ tab | strip_html | replace: '"', '' | replace: 'title=', ''}}</h3>       <div>{{ part2 | replace: tab2rpl, '' }}</div>      {% endif %}     {% endfor %}    {% endif %}   {% endfor %}</div>   {% endcapture %}  {{ part | replace: tabs2rpl, tabs_block }} {% else %}  {{ part }} {% endif %}{% endfor %}{% endcapture %}{% comment %} Lightbox {% endcomment %}{% capture description %}{% assign parts = description | split: '[lightbox ' %}{% for part in parts %} {% if part contains '[/lightbox]' %}  {% assign parts2 = part | split: '[/lightbox]' %}  {% assign lightboxind = forloop.index0 %}  {% for part2 in parts2 %}   {% capture cyclename %}{{ cyclename }}1{% endcapture %}{% capture odd %}{% cycle cyclename: 'true', 'false' %}{% endcapture %}   {% if odd == 'true' and part2 contains ']' %}    {% assign button = part2 | split: ']' | first %}    {% assign button2rpl = button | append: ']' %}    <a class='sc-lightbox' href='#' data-featherlight='#sc-lightbox-content{{ lightboxind }}' {{ button | strip_html | replace: '[lightbox ', '' }}></a><div style='display:none'><div id='sc-lightbox-content{{ lightboxind }}'>{{ part2 | replace: button2rpl, '' }}</div></div>   {% else %}    {{ part2 }}   {% endif %}  {% endfor %} {% else %}  {{ part }} {% endif %}{% endfor %}{% endcapture %}{{ description }}